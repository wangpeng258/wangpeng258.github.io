<!DOCTYPE html>
<html lang="zh">

    <head>
        <meta charset="utf-8">
        <title>æ€§èƒ½ç›‘æµ‹&å›¾å½¢æ§åˆ¶ç•Œé¢</title>
        <meta name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
        <link rel="icon"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“¸</text></svg>">
        <meta name="format-detection" content="telephone=no">
        <!-- <script src="https://cdn.bootcdn.net/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script> -->
        <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.17"></script>
        <script src="https://cdn.jsdelivr.net/gh/wangpeng1478/Tools@master/static/stats.min.js"></script>
        <script src="https://cdn.bootcdn.net/ajax/libs/eruda/2.4.1/eruda.min.js"></script>
        <script>
            eruda.init();
        </script>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <style>
            html,
            body,
            #container,
            #app {
                margin: 0;
                padding: 0;
                width: 100vw;
                height: 100vh;
                overflow: hidden;
            }
            .dg textarea,
            .dg button,
            .dg input{
                font: menu;
            }
        </style>
    </head>

    <body>
        <script>
            // https://lil-gui.georgealways.com/
            document.addEventListener('DOMContentLoaded', _ => {
                //æ€§èƒ½ç›‘æµ‹
                const stats = new Stats();
                // window['discernCount'] = stats.addPanel( new Stats.Panel( 'count', '#ff8', '#221' ) );
                // window['discernCount'].update(this.count);
                stats.showPanel(1); // 0: fps, 1: ms, 2: mb, 3+: custom
                stats.domElement.style = `
                    position: fixed;
                    top:50%;
                    left:0;
                    cursor: pointer;
                    opacity: 0.9;
                    z-index: 20;
                    transform: translateY(-50%);
                `;
                document.body.appendChild(stats.dom);
                requestAnimationFrame(function loop() {
                    stats.update();
                    requestAnimationFrame(loop)
                });

                //å›¾å½¢æ§åˆ¶ç•Œé¢

                const gui = new lil.GUI();
                // const gui = new dat.GUI();
                gui.close();
                console.log(`[gui]`, gui);
                const controls = new function () {
                    this.range = 60; //èŒƒå›´
                    this.checkbox = false; //å¼€å…³
                    this.select = 2; //ä¸‹æ‹‰æ¡†

                    this.color0 = "#ffae23"; // CSS string
                    this.color1 = [0, 128, 255]; // RGB array
                    this.color2 = [0, 128, 255, 0.3]; // RGB with alpha
                    this.color3 = { h: 350, s: 0.9, v: 0.3 }; // Hue, saturation, value

                    this.input = 'String'; //å­—ç¬¦ä¸²

                    //æ–‡æœ¬
                    this.text = () => {
                        this.range--;
                        this.checkbox = !this.checkbox;
                        window['formFolder_checkbox'].updateDisplay();
                        console.log(`[ç‚¹å‡»]`, this);
                    };
                    //é”€æ¯
                    this.destroy = () => {
                        gui.destroy();
                    };
                    console.log(`[controls]`, this);
                };
                const formFolder = gui.addFolder(`è¡¨å•`);
                formFolder.add(controls, 'range', 0, 100).name(`èŒƒå›´`).step(1).onChange((value) => {
                    console.log(`[èŒƒå›´]`, value);
                });
               window['formFolder_checkbox'] = formFolder.add(controls, 'checkbox').name(`å¼€å…³`).onChange((value) => {
                    console.log(`[å¼€å…³]`, value);
                });
                formFolder.add(controls, 'select', {
                    'ä¸€': 1,
                    'äºŒ': 2,
                    'ä¸‰': 3,
                }).name(`ä¸‹æ‹‰æ¡†`).onChange((value) => {
                    console.log(`[ä¸‹æ‹‰æ¡†]`, value);
                });
                formFolder.add(controls, 'input').name(`è¾“å…¥æ¡†`).onChange((value) => {
                    console.log(`[è¾“å…¥æ¡†]`, value);
                });
                const colorFolder = gui.addFolder(`é¢œè‰²`);
                colorFolder.addColor(controls, 'color0').name(`é¢œè‰²0`).onChange((value) => {
                    console.log(`[color0-onChange]`, value);
                }).onFinishChange((value) => {
                    console.log(`[color0-onFinishChange]`, value);
                });
                colorFolder.addColor(controls, 'color1').name(`é¢œè‰²1`).onChange((value) => {
                    console.log(`[color1-onChange]`, value);
                }).onFinishChange((value) => {
                    console.log(`[color1-onFinishChange]`, value);
                });
                colorFolder.addColor(controls, 'color2').name(`é¢œè‰²2`).onChange((value) => {
                    console.log(`[color2-onChange]`, value);
                }).onFinishChange((value) => {
                    console.log(`[color2-onFinishChange]`, value);
                });
                colorFolder.addColor(controls, 'color3').name(`é¢œè‰²3`).onChange((value) => {
                    console.log(`[color3-onChange]`, value);
                }).onFinishChange((value) => {
                    console.log(`[color3-onFinishChange]`, value);
                });

                const funFolder = gui.addFolder(`æ–¹æ³•`);
                funFolder.add(controls, 'text').name(`ç‚¹å‡»`);
                funFolder.add(controls, 'destroy').name(`é”€æ¯`);

                //æ‰“å¼€æ–‡ä»¶å¤¹
                formFolder.open();
                colorFolder.open();
                funFolder.open();
            });
        </script>
    </body>

</html>